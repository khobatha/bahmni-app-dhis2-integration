<html>
<head>
<title>DHIS2 Integration App</title>
<!--STYLESHEETS AND FONTS-->
<link rel="stylesheet" href="../bower_components/nepali-date-picker/dist/nepaliDatePicker.min.css">
<link rel="stylesheet" href="../bower_components/jquery-ui/themes/base/jquery-ui.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../css/stylesheet.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

<!--LIBRARIES-->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="../bower_components/jquery.min/index.js"></script>
<script src="../bower_components/jquery-ui/jquery-ui.min.js"></script>

<!--PLUGINS-->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="../bower_components/mustache.min/index.js"></script>
<script src="../js/spinner.js"></script>
<script src="../js/initAutomation.js"></script>
<script src="../bower_components/nepali-date-picker/dist/jquery.nepaliDatePicker.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
</head>
<body>
	<div class="header">
		<div class="dhisTitleWrapper">
			<div class="home">
				<a href="/bahmni/home" class="btn header-link">Home</a>
			</div>
			<div class="home">
				<a href="../index.html" class="btn header-link">Manual</a>
			</div>
            <div class="home">
				<a href="#" class="btn header-link">Automation</a>
			</div>
		</div>
	</div>

	<div class="dhisWrapper">
		<div id="tabs">
			<ul id="scheduler-tabs" class="nav nav-tabs">
				<li class="nav-item"><a href="#tab-clinical" class="nav-link active" data-toggle="tab">Clinical</a></li>
				<li class="nav-item"><a href="#tab-pharmacy" class="nav-link" data-toggle="tab">Pharmacy</a></li>
				<li class="nav-item"><a href="#tab-lab" class="nav-link" data-toggle="tab">Laboratory</a></li>
			</ul>
			<div id="tab-clinical" class="tab-pane fade show active">
					<div class="container-xl">
						<div class="table-responsive">
							<div class="table-wrapper">
								<div class="table-title">
									<div class="row">
										<div class="col-sm-6">
											<h2>Scheduled Clinical Reports</h2>
										</div>
										<div class="col-sm-6">
											<a href="#addClinicalScheduleModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>New</span></a>
											<a href="#deleteClinicalScheduleModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a>
										</div>
									</div>
								</div>
								<table class="table table-striped table-hover" id="clinical-program-schedules">
									<thead>
										<tr>
											<th>
											</th>
											<th>Report</th>
											<th>Frequency</th>
											<th>Last Run</th>
											<th>Status</th>
											<th>Next Run</th>
											<th>Enabled</th>
										</tr>
									</thead>
									<tbody>
									 
									</tbody>
								</table>
							</div>
						</div>        
					</div>
					<!-- Add Clinical Schedule Modal HTML -->
					<div id="addClinicalScheduleModal" class="modal fade">
						<div class="modal-dialog">
							<div class="modal-content" id="addClinicalScheduleModalContent">
								<form>
									<div class="modal-header">						
										<h4 class="modal-title">Create clinical schedules</h4>
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									</div>
									<div class="modal-body">					
										<div class="form-group">
											<label>Name</label>
											<select name="clinical-report-name" id="clinical-report-name" required>
											</select>
										</div>
										<div class="form-group">
											<label>Frequency</label>
											<!--input type="text" class="form-control" required-->
											<select name="clinical-frequency" id="clinical-frequency" required>
												<option selected value="weekly">Weekly</option>
												<option value="monthly">Monthly</option>
												<option value="quarterly">Quarterly</option>
											</select>
										</div>
										<div class="form-group">
											<label>Time</label>
											<select name="clinical-time" id="clinical-time" required>
												<option value="17:00">17:00</option>
												<option value="18:00">18:00</option>
												<option value="19:00">19:00</option>
												<option value="20:00">20:00</option>
												<option value="21:00">21:00</option>
												<option value="22:00">22:00</option>
												<option value="23:00">23:00</option>
												<option value="00:00">00:00</option>
												<option value="01:00">01:00</option>
												<option value="02:00">02:00</option>
												<option value="03:00">03:00</option>
												<option value="04:00">04:00</option>
											</select>
										</div>				
									</div>
									<div class="modal-footer">
										<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
										<input type="button" class="btn btn-success" value="Save" id="addClinicalSchedulebtn" onclick="createDHISSchedule(this.id, document.getElementById('clinical-frequency').value)">
									</div>
								</form>
							</div>
						</div>
					</div>
					<!-- Edit Clinical Schedule Modal HTML -->
					<div id="editClinicalScheduleModal" class="modal fade">
						<div class="modal-dialog">
							<div class="modal-content">
								<form>
									<div class="modal-header">						
										<h4 class="modal-title">Edit clinical schedules</h4>
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									</div>
									<div class="modal-body">					
										<div class="form-group">
											<label>Name</label>
											<input type="text" class="form-control" required>
										</div>
										<div class="form-group">
											<label>Email</label>
											<input type="email" class="form-control" required>
										</div>
										<div class="form-group">
											<label>Address</label>
											<textarea class="form-control" required></textarea>
										</div>
										<div class="form-group">
											<label>Phone</label>
											<input type="text" class="form-control" required>
										</div>					
									</div>
									<div class="modal-footer">
										<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
										<input type="submit" class="btn btn-info" value="Save">
									</div>
								</form>
							</div>
						</div>
					</div>
					<!-- Delete Clinical Schedule Modal HTML -->
					<div id="deleteClinicalScheduleModal" class="modal fade">
						<div class="modal-dialog">
							<div class="modal-content">
								<form>
									<div class="modal-header">						
										<h4 class="modal-title">Delete clinical schedules</h4>
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									</div>
									<div class="modal-body">					
										<p>Are you sure you want to delete these schedules?</p>
										<p class="text-warning"><small>This action cannot be undone.</small></p>
									</div>
									<div class="modal-footer">
										<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
										<input type="button" class="btn btn-danger" value="Delete" id="deleteClinicalSchedulebtn" onclick="deleteDHISSchedule(this.id)">
									</div>
								</form>
							</div>
						</div>
					</div>

			</div>
			<!-- List Pharmacy Schedules HTML -->
			<div id="tab-pharmacy" class="tab-pane fade">
				<div class="container-xl">
					<div class="table-responsive">
						<div class="table-wrapper">
							<div class="table-title">
								<div class="row">
									<div class="col-sm-6">
										<h2>Scheduled Pharmacy Reports</h2>
									</div>
									<div class="col-sm-6">
										<a href="#addPharmacyScheduleModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>New</span></a>
										<a href="#deletePharmacyScheduleModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a>
									</div>
								</div>
							</div>
							<table class="table table-striped table-hover" id="pharmacy-program-schedules">
								<thead>
									<tr>
										<th>
										</th>
										<th>Report</th>
										<th>Frequency</th>
										<th>Last Run</th>
										<th>Status</th>
										<th>Next Run</th>
										<th>Enabled</th>
									</tr>
								</thead>
								<tbody>
									
								</tbody>
							</table>
						</div>
					</div>        
				</div>
				<!-- Add Pharmacy Schedule Modal HTML -->
				<div id="addPharmacyScheduleModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content" id="addPharmacyScheduleModalContent">
							<form>
								<div class="modal-header">						
									<h4 class="modal-title">Create pharmacy schedules</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">	
									<div class="form-group">
										<label>Name</label>
										<!--input type="text" class="form-control" required-->
										<select name="pharmacy-report-name" id="pharmacy-report-name" required>
										</select>
									</div>
									<!--div class="form-group">
										<label>Frequency</label>
										<input type="text" class="form-control" required>
										<select name="pharmacy-frequency" id="pharmacy-frequency" required>
											<option selected value="monthly">Monthly</option>
										</select>
									</div-->
									<div class="form-group">
										<label>Reporting Periods:</label>
										<div class="datetime-row">
											<label for="datetime1-1">Label 1:</label>
											<label for="datetime1-1">Start Time:</label>
											<input type="datetime-local" id="datetime1-1" name="datetime1-1">
											<label for="datetime1-2">End Time:</label>
											<input type="datetime-local" id="datetime1-2" name="datetime1-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <div class="datetime-row">
											<label for="datetime2-1">Label 2:</label>
											<label for="datetime2-1">Start Time:</label>
											<input type="datetime-local" id="datetime2-1" name="datetime2-1">
											<label for="datetime2-2">End Time:</label>
											<input type="datetime-local" id="datetime2-2" name="datetime2-2">
										  </div>
										  <!-- Repeat for rows 3-12 -->
										  <div class="datetime-row">
											<label for="datetime12-1">Label 12:</label>
											<label for="datetime12-1">Start Time:</label>
											<input type="datetime-local" id="datetime12-1" name="datetime12-1">
											<label for="datetime12-2">End Time:</label>
											<input type="datetime-local" id="datetime12-2" name="datetime12-2">
										  </div>
									</div>
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="button" class="btn btn-success" value="Save" id="addPharmacySchedulebtn" onclick="createDHISSchedule(this.id, document.getElementById('pharmacy-frequency').value)">
								</div>
							</form>
						</div>
					</div>
				</div>
				<!-- Edit Pharmacy Schedules Modal HTML -->
				<div id="editPharmacyScheduleModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<form>
								<div class="modal-header">						
									<h4 class="modal-title">Edit pharmacy schedules</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">					
									<div class="form-group">
										<label>Name</label>
										<input type="text" class="form-control" required>
									</div>
									<div class="form-group">
										<label>Email</label>
										<input type="email" class="form-control" required>
									</div>
									<div class="form-group">
										<label>Address</label>
										<textarea class="form-control" required></textarea>
									</div>
									<div class="form-group">
										<label>Phone</label>
										<input type="text" class="form-control" required>
									</div>					
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="submit" class="btn btn-info" value="Save">
								</div>
							</form>
						</div>
					</div>
				</div>
				<!-- Delete Pharmacy Schedules Modal HTML -->
				<div id="deletePharmacyScheduleModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<form>
								<div class="modal-header">						
									<h4 class="modal-title">Delete pharmacy schedules</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">					
									<p>Are you sure you want to delete these schedules?</p>
									<p class="text-warning"><small>This action cannot be undone.</small></p>
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="submit" class="btn btn-danger" value="Delete" id="deletePharmacySchedulebtn" onclick="deleteDHISSchedule(this.id)">
								</div>
							</form>
						</div>
					</div>
				</div>


			</div>
			<!-- List Lab Schedules HTML -->
			<div id="tab-lab" class="tab-lab tab-pane fade">
				<div class="container-xl">
					<div class="table-responsive">
						<div class="table-wrapper">
							<div class="table-title">
								<div class="row">
									<div class="col-sm-6">
										<h2>Scheduled Laboratory Reports</h2>
									</div>
									<div class="col-sm-6">
										<a href="#addLabScheduleModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>New</span></a>
										<a href="#deleteLabScheduleModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a>
									</div>
								</div>
							</div>
							<table class="table table-striped table-hover" id="lab-program-schedules">
								<thead>
									<tr>
										<th>
										</th>
										<th>Report</th>
										<th>Frequency</th>
										<th>Last Run</th>
										<th>Status</th>
										<th>Next Run</th>
										<th>Enabled</th>
									</tr>
								</thead>
								<tbody>
									
								</tbody>
							</table>
						</div>
					</div>        
				</div>
				<!-- Add Lab Schedules Modal HTML -->
				<div id="addLabScheduleModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<form>
								<div class="modal-header">						
									<h4 class="modal-title">Create lab schedules</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">					
									<div class="form-group">
										<label>Name</label>
										<!--input type="text" class="form-control" required-->
										<select name="lab-report-name" id="lab-report-name" required>
										</select>
									</div>
									<div class="form-group">
										<label>Frequency</label>
										<!--input type="text" class="form-control" required-->
										<select name="lab-frequency" id="lab-frequency" required>
											<option value="weekly">Weekly</option>
											<option value="monthly">Monthly</option>
											<option selected value="quarterly">Quarterly</option>
										</select>
									</div>
									<div class="form-group">
										<label>Time</label>
										<select name="lab-time" id="lab-time" required>
											<option value="17:00">17:00</option>
											<option value="18:00">18:00</option>
											<option value="19:00">19:00</option>
											<option value="20:00">20:00</option>
											<option value="21:00">21:00</option>
											<option value="22:00">22:00</option>
											<option value="23:00">23:00</option>
											<option value="00:00">00:00</option>
											<option value="01:00">01:00</option>
											<option value="02:00">02:00</option>
											<option value="03:00">03:00</option>
											<option value="04:00">04:00</option>
										</select>
									</div>				
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="button" class="btn btn-success" value="Save" id="addLabSchedulebtn" onclick="createDHISSchedule(this.id, document.getElementById('lab-frequency').value)">
								</div>
							</form>
						</div>
					</div>
				</div>
				<!-- Edit Lab Schedules Modal HTML -->
				<div id="editLabScheduleModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<form>
								<div class="modal-header">						
									<h4 class="modal-title">Edit lab schedules</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">					
									<div class="form-group">
										<label>Name</label>
										<input type="text" class="form-control" required>
									</div>
									<div class="form-group">
										<label>Email</label>
										<input type="email" class="form-control" required>
									</div>
									<div class="form-group">
										<label>Address</label>
										<textarea class="form-control" required></textarea>
									</div>
									<div class="form-group">
										<label>Phone</label>
										<input type="text" class="form-control" required>
									</div>					
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="submit" class="btn btn-info" value="Save">
								</div>
							</form>
						</div>
					</div>
				</div>
				<!-- Delete Lab Schedules Modal HTML -->
				<div id="deleteLabScheduleModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<form>
								<div class="modal-header">						
									<h4 class="modal-title">Delete lab schedules</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">					
									<p>Are you sure you want to delete these schedules?</p>
									<p class="text-warning"><small>This action cannot be undone.</small></p>
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="submit" class="btn btn-danger" value="Delete" id="deleteLabSchedulebtn" onclick="deleteDHISSchedule(this.id)">
								</div>
							</form>
						</div>
					</div>
				</div>

				
			</div>
		</div>
	  
	</div>
	<script id="failure-status-template" type="x-tmpl-mustache">
    	<u class="status-failure">
        	<b>{{status}}</b>
   		</u>
	</script>
	<script id="failure-refresh-status-template" type="x-tmpl-mustache">
    	<b class="status-failure">{{status}}</b>
	</script>
	<script id="success-status-template" type="x-tmpl-mustache">
    	<b class="status-success">{{status}}</b>
	</script>
	<script id="success-refresh-status-template" type="x-tmpl-mustache">
    	<b class="status-success">{{status}}</b>
	</script>
</body>
</html>